import { builders as b }    from 'ast-types'


import generateRequire      from './require'
import generateField        from './field'


export default ({
  name,
  fields = [],
}) => {
  return b.expressionStatement(
    b.callExpression(
      b.memberExpression(
        b.identifier(name),
        b.identifier('add'),
        false
      ),
      [
        b.objectExpression(
          fields.map(generateField)
        )
      ]
    )
  )
}